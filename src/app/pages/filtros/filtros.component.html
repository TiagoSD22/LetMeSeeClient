<div class="main-container"
     fxLayout
     fxLayout.xs="column"
     fxLayoutAlign="center"
     fxLayoutGap="2px"
     fxLayoutGap.xs="0">

    <div class = "filtros-sidenav" fxLayout="column" fxFlex = 20%>
        <h5 style="align-items: left;text-align: left;font-synthesis: weight; font-size: 30px; font-size: 16px; color: lightgray;margin-left: 15px;margin-bottom: 18px;margin-top: 20px;">EDITAR</h5>
        <mat-list role = "list" *ngIf = "menu" class="filtros-bar">
                <mat-list-item  (click) = "toogle('negativo')" role="listitem">
                    <h5 class="filter-label">
                        <img src="../../../assets/icons/negativo.svg" class="filter-icon">
                        Negativo
                    </h5>
                </mat-list-item>
                <mat-list-item  (click) = "toogle('limiar')" role="listitem">
                    <h5 class="filter-label">
                        <img src="../../../assets/icons/limiar.png" class="filter-icon">
                        Limiar
                    </h5>
                </mat-list-item>
                <mat-list-item (click)="toogle('ajusteRGB')" role="listitem">
                    <h5 class="filter-label">
                        <img src="../../../assets/icons/colors.svg" class="filter-icon">
                        Ajuste RGB
                    </h5>
                </mat-list-item>
                <mat-list-item (click)="toogle('roberts')" role="listitem">
                    <h5 class="filter-label">
                        <img src="../../../assets/icons/colors.svg" class="filter-icon">
                        Roberts Cross
                    </h5>
                </mat-list-item>
        </mat-list>

        <mat-sidenav *ngIf = "negativoSidenavAberta" #negativoSidenav mode="side" class="filtro-param-sidenav">
            <h5 class="filter-label-title">Negativo</h5>
            <div class = 'negativo-sidenav'>
                <!--button mat-mini-fab color="primary" 
                        style="left: 2px;top: 2px;margin: auto;position:absolute;z-index: 10;cursor: pointer;" 
                        (click) = "voltarMenu('negativo')" matTooltip="voltar">
                    <i class="material-icons">arrow_back</i>
                </button-->
                <img src="../../../assets/icons/voltar.svg" class="voltar-icon" (click) = "voltarMenu('negativo')" matTooltip="voltar">
                <button mat-raised-button color="primary" style="margin-top: 30px;" (click) = "negativo()">Aplicar</button>
            </div>
        </mat-sidenav>

        <mat-sidenav *ngIf = "limiarSidenavAberta" #limiarSidenav mode="side" class="filtro-param-sidenav">
                <h5 class="filter-label-title">Limiar</h5>
                <div class = 'limiar-sidenav'>
                    <!--button mat-mini-fab color="primary" 
                            style="left: 2px;top: 2px;margin: auto;position:absolute;z-index: 10;cursor: pointer;" 
                            (click) = "voltarMenu('limiar')" matTooltip="voltar">
                        <i class="material-icons">arrow_back</i>
                    </button-->
                    <img src="../../../assets/icons/voltar.svg" class="voltar-icon" (click) = "voltarMenu('limiar')" matTooltip="voltar">
                    <div class="row" style="vertical-align:top;">
                    <mat-slider
                        class="limiar-input"
                        [disabled]="false"
                        [invert]="false"
                        [max]="255"
                        [min]="0"
                        [step]="1"
                        [thumbLabel]="true"
                        [(ngModel)]="valorLimiar"
                        [vertical]="false">
                    </mat-slider>
                    </div>
                    <button mat-raised-button color="primary" style="margin-top: 2px;" (click) = "limiar()">Aplicar</button>
                </div>
        </mat-sidenav>

        <mat-sidenav *ngIf = "ajusteRGBSidenavAberta" #ajusteRGBSidenav mode="side" class="filtro-param-sidenav">
                <h5 class="filter-label-title">Ajuste RGB</h5>
                <div class = 'ajusteRGB-sidenav'>
                    <!--button mat-mini-fab color="primary" 
                            style="left: 2px;top: 2px;margin: auto;position:absolute;z-index: 10;cursor: pointer;" 
                            (click) = "voltarMenu('ajusteRGB')" matTooltip="voltar">
                        <i class="material-icons">arrow_back</i>
                    </button-->
                    <img src="../../../assets/icons/voltar.svg" class="voltar-icon" (click) = "voltarMenu('ajusteRGB')" matTooltip="voltar">
                    <mat-slider
                        class="limiar-input"
                        [disabled]="false"
                        [invert]="false"
                        [max]="255"
                        [min]="-255"
                        [step]="1"
                        [thumbLabel]="true"
                        [(ngModel)]="valorR"
                        [vertical]="false">
                    </mat-slider>
                    <br>
                    <label class="label-info">Canal vermelho</label>
                    
                    <mat-slider
                        class="limiar-input"
                        [disabled]="false"
                        [invert]="false"
                        [max]="255"
                        [min]="-255"
                        [step]="1"
                        [thumbLabel]="true"
                        [(ngModel)]="valorG"
                        [vertical]="false">
                    </mat-slider>
                    <br>
                    <label class="label-info">Canal verde</label>
                    
                    <mat-slider
                        class="limiar-input"
                        [disabled]="false"
                        [invert]="false"
                        [max]="255"
                        [min]="-255"
                        [step]="1"
                        [thumbLabel]="true"
                        [(ngModel)]="valorB"
                        [vertical]="false">
                    </mat-slider>
                    <br>
                    <label class="label-info">Canal azul</label>
                    <br><br>
                    <label class="btn mat-mini-fab" style="margin-top: 2px;" (click) = "ajusteRGB()" matTooltip="Aplicar">
                        <i class="zmdi zmdi-check"></i>
                    </label>
                </div>
        </mat-sidenav>

        <mat-sidenav *ngIf = "robertsSidenavAberta" #robertsSidenav mode="side" class="filtro-param-sidenav">
            <h5 class="filter-label-title">Roberts Cross</h5>
            <div class = 'negativo-sidenav'>
                <!--button mat-mini-fab color="primary" 
                        style="left: 2px;top: 2px;margin: auto;position:absolute;z-index: 10;cursor: pointer;" 
                        (click) = "voltarMenu('negativo')" matTooltip="voltar">
                    <i class="material-icons">arrow_back</i>
                </button-->
                <img src="../../../assets/icons/voltar.svg" class="voltar-icon" (click) = "voltarMenu('roberts')" matTooltip="voltar">
                <button mat-raised-button color="primary" style="margin-top: 30px;" (click) = "roberts()">Aplicar</button>
            </div>
        </mat-sidenav>

    </div>

    <div class = "image-container" fxFlex fxLayout="column">
        <div fxLayout="row" fxFlex = 95%  fxLayoutAlign="center center">
            <img class="image" fxLayout="row"
                 *ngIf = "imagem != undefined" 
                 src="data:image/{{imagem.tipo}};base64,{{imagem.conteudoBase64}}"
                 [style.width.px] = "imagem.largura * escala">
                 <!--[style.height.px] = "imagem.altura * escala"-->
        </div>
        <div class="acoes-container" fxFlex>
            <label style="margin-right: 80px;margin-top: 10px;" style="cursor: pointer;" matTooltip="Salvar" (click) = "salvarImagem()">
                <i class="zmdi zmdi-download zmdi-hc-lg"></i>
            </label>
            <label *ngIf = "escala > 0.21" style="cursor: pointer" (click) = "diminuirEscala()" matTooltip="Zoom out" style="margin-left: 40px;">
                <i class="zmdi zmdi-minus-circle zmdi-hc-lg"></i>
            </label>
            <mat-slider
                class="example-margin"
                [disabled]="false"
                [invert]="false"
                [max]="4"
                [min]="0.21"
                [step]="0.01"
                [thumbLabel]="true"
                [(ngModel)]="escala"
                [vertical]="false">
            </mat-slider>
            <label *ngIf = "escala < 4" style="cursor: pointer" (click) = "aumentarEscala()" matTooltip="Zoom in">
                <i class="zmdi zmdi-plus-circle zmdi-hc-lg"></i>
            </label>
            <label style="margin-left: 10px;margin-right: 50px;">{{escala * 100 | number:'1.0-0'}}%</label>
            <label *ngIf = "pilhaIndice != 0" style="cursor: pointer" (click) = "desfazer()" matTooltip="Desfazer" style="right: 0px; margin-left: 20px;margin-right: 30px;">
                    <i class="zmdi zmdi-undo zmdi-hc-lg"></i>
            </label>
            <label *ngIf = "pilhaIndice != pilha.length - 1" style="cursor: pointer" (click) = "refazer()" matTooltip="Refazer">
                    <i class="zmdi zmdi-redo zmdi-hc-lg"></i>
            </label>
        </div>
    </div>
</div>

<!--mat-card  style="background-color: #28303F">
                    <mat-drawer #drawer class="example-sidenav" mode="side">
                    <label mat-mini-fab color = "primary" (click) = "voltarMenu()">
                        <i class="zmdi zmdi-caret-left-circle zmdi-hc-lg"></i>
                    </label>
                    <button (click)="negativo()" mat-raised-button>
                    Aplicar
                </button>
        </mat-drawer>
    </mat-card-->
